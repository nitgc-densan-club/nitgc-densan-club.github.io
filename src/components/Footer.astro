---
import { Image } from 'astro:assets';
import logo from '../assets/component/logo.png';
import upArrow from '../assets/component/arrow_up.png';
import downArrow from '../assets/component/arrow_down.png';
import Container from './Container.astro';
import twitter from '../assets/component/twitter.png';
import GitHub from '../assets/component/GitHub.png';
---
<footer>
  <div class="footer-left">
    <Image src={logo} alt="電算部"/>
  </div>
  <div class="footer-right">
    <Image class="upArrow active" src={upArrow} alt="上矢印"/>
    <Image class="downArrow" src={downArrow} alt="下矢印"/>
    <p id="realtime"></p>
  </div>
</footer>

<!-- ポップアップ -->
<div class="HPLink">
  <Container width="190px" height="130px">
    <div>
      <p>過去のホームページ</p>
      <ul>
        <li><span>2020年度</span></li>
        <li><span>2020年度</span></li>
        <li><span>2020年度</span></li>
      </ul>
    </div>
  </Container>
</div>
<div class="account">
  <Container width="140px" height="90px">
    <div>
      <a href="https://x.com/gnct_densan">
        <Image src={twitter} alt="twitter"/>
        <span>Twitter(X)</span>
      </a>
      <a href="https://github.com/nitgc-densan-club">
        <Image src={GitHub} alt="GitHub"/>
        <span>GitHub</span>
      </a>
    </div>
  </Container>
</div>

<style>
  footer{
    height: 60px;
    padding: 0 8px;
    background-color: #8C9991;
    display: flex;
    justify-content: space-between;
    border-top: 2px solid #000;
  }

  img{
    width: auto;
    height: 38px;
    object-fit: contain;
  }

  ul{
    list-style: none;
    margin: 0;
    padding: 0;
  }

  p{
    margin: 0;
  }

  #realtime{
    margin: 0 0 0 5px;
    text-align: right;
    color: #fff;
    font-weight: bold;
  }

  .footer-right, .footer-left{
    display: flex;
    align-items: center;
    padding: 4px;
  }

  .upArrow, .downArrow{
    display: none;
  }

  .HPLink div, .account div{
    width: 100%;
    height: 100%;
    padding: 10px;
    box-sizing: border-box;
  }

  .HPLink{
    display: none;
    position: absolute;
    bottom: 75px;
    left: 15px;
    font-size: 18px;
  }

  .account{
    display: none;
    position: absolute;
    bottom: 75px;
    right: 15px;
    font-weight: bold;
    font-size: 18px;
  }
  
  .account a {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .account img{
    height: 26px;
  }

  .account div{
    display: flex;
    flex-direction: column;
    justify-content: space-around;
  }

  .active{
    display: unset;
  }
</style>

<script>
  // 時計表示
  const digitAlign = (i)=>{
    if (i<10){
      i = "0"+i;
    }
    return i;
  }

  const showClock = () =>{
    var nowData = new Date();
    let year = nowData.getFullYear();
    let month = digitAlign(nowData.getMonth()+1);
    let date = digitAlign(nowData.getDate());
    let hour = digitAlign(nowData.getHours());
    let min = digitAlign(nowData.getMinutes());
    let top = hour + ":" + min;
    let bottom = year + "/" + month + "/" + date;
    document.getElementById("realtime").innerHTML=top + "<br>" + bottom;
  }
  setInterval(showClock,1000);

  // クリック時
  let footerLeft = document.querySelector(".footer-left");
  let HPLink = document.querySelector(".HPLink");
  let footerRight = document.querySelector(".footer-right");
  let account = document.querySelector(".account");
  let upArrow = document.querySelector(".upArrow");
  let downArrow = document.querySelector(".downArrow");
  footerLeft.addEventListener("click",()=>{
    HPLink.classList.toggle("active");
  },false)
  footerRight.addEventListener("click",()=>{
    upArrow.classList.toggle("active");
    downArrow.classList.toggle("active");
    account.classList.toggle("active");
  },false)
</script>